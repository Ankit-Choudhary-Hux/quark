<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating the Python Client &mdash; Quark 0.3.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.3.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Quark 0.3.1 documentation" href="../../index.html" />
    <link rel="up" title="Getting Started with RPC Walkthrough" href="index.html" />
    <link rel="next" title="Creating the Python Client" href="pythonClient2.html" />
    <link rel="prev" title="Compiling and Installing the Library in Python" href="pythonBuild.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head>
  <body role="document">
    <header id="pageheader"><h1><a href="../../index.html ">
        Quark 0.3.1 documentation
    </a></h1></header>
  <div class="related top">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="pythonBuild.html" title="Previous document">Compiling and Installing the Library in Python</a>
        </li>
        <li>
          <a href="pythonClient2.html" title="Next document">Creating the Python Client</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../../index.html">Quark 0.3.1 documentation</a></li>
      <li>
        <a href="index.html">Getting Started with RPC Walkthrough</a>
      </li> 
    </ul>
  </nav>
  </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="creating-the-python-client">
<h1>Creating the Python Client<a class="headerlink" href="#creating-the-python-client" title="Permalink to this headline">¶</a></h1>
<p>Let&#8217;s start by creating a simple Hello World client using the compiled Hello contract in Python.</p>
<p>Note: If you don&#8217;t want step-by-step guidance about how to create the client and just want to start from a completed client, there is a <a class="reference internal" href="#fullexamplepythonclient"><span>link to the full Python client file</span></a> at the bottom of this page.</p>
<div class="section" id="part-1-creating-the-framework">
<span id="part1pythonclientframework"></span><h2>Part 1: Creating the framework<a class="headerlink" href="#part-1-creating-the-framework" title="Permalink to this headline">¶</a></h2>
<p>This section helps you define the necessary structure for your Python client.</p>
<p>Step 1: Create a text file in your favorite editor called pyclient.py</p>
<p>Step 2: Import the portion of the integration needed to run your client, namely get_runtime in quark_threaded_runtime.</p>
<p>Step 3: Import the contract library (hello)</p>
<p>Step 4: Define an empty main function</p>
<p>Step 5: Run the main function. If you are new to Python, information about how to do this can be found <a class="reference external" href="https://docs.python.org/2/library/__main__.html">here</a>.</p>
<p>See <a class="reference internal" href="appendixBPythonClient.html#part1pythonclientfinished"><span>this page</span></a> for the file state at the end of Part 1.</p>
</div>
<div class="section" id="part-2-initializing-the-client">
<span id="part2pythonclientinitialization"></span><h2>Part 2: Initializing the Client<a class="headerlink" href="#part-2-initializing-the-client" title="Permalink to this headline">¶</a></h2>
<p>This section initializes the client so the client knows how to set up and send requests to the server.</p>
<p>Step 1: Initialize the runtime variable using get_runtime()</p>
<p>Step 2: Initialize a client instance passing it the runtime variable and the URL of the server (<a class="reference external" href="http://127.0.0.1:8910/hello">http://127.0.0.1:8910/hello</a>)</p>
<p>See <a class="reference internal" href="appendixBPythonClient.html#part2pythonclientfinished"><span>this page</span></a> for the file state at the end of Part 2.</p>
</div>
<div class="section" id="part-3-setting-up-the-request">
<span id="part3pythonrequest"></span><h2>Part 3: Setting Up the Request<a class="headerlink" href="#part-3-setting-up-the-request" title="Permalink to this headline">¶</a></h2>
<p>This sets up the request to the server.</p>
<p>Step 1: Create a Request object associated with the client using the Request value class we defined in the service contract in the previous section of the tutorial.</p>
<p>Step 2: Set the text property of the request to &#8220;Hello from Python!&#8221; so we know the request came from the Python client. This will help illustrate the interoperability of languages later.</p>
<p>Step 3: Print the request text to standard out so we know what&#8217;s happening when we run the client.</p>
<p>See <a class="reference internal" href="appendixBPythonClient.html#part3pythonclientfinished"><span>this page</span></a> for the file state at the end of Part 3.</p>
</div>
<div class="section" id="part-4-sending-the-request-and-processing-the-response">
<span id="part4pythonsendrequest"></span><h2>Part 4: Sending the Request and Processing the Response<a class="headerlink" href="#part-4-sending-the-request-and-processing-the-response" title="Permalink to this headline">¶</a></h2>
<p>This actually sends the request to the server, receives the response, and displays it from the client.</p>
<p>Step 1: Send the request using the hello method of the Client (defined within the Hello interface in the service contract). This method takes the request object as an input parameter and returns a response object (as defined in the Response value class in the service contract).</p>
<p>Step 2: Print the value of the result property of the response object so we can see that the server operated on the request and returned the requested information.</p>
<p>That&#8217;s it! The Python client is fully defined now. You can follow the link below to a copy of the full client in the Quark Examples repository.</p>
</div>
<div class="section" id="full-python-client">
<span id="fullexamplepythonclient"></span><h2>Full Python Client<a class="headerlink" href="#full-python-client" title="Permalink to this headline">¶</a></h2>
<p>A full copy of the Python client for this example can be found <a class="reference external" href="https://github.com/datawire/quark/blob/master/examples/helloRPC/pyclient.py">in GitHub</a> - the file you constructed following the instructions on this page should match it exactly barring differences in the content of the print requests.</p>
<p>[[JMK The url above should be branch-specific; once the branch variable is in place and working this can be handled automagically as part of the build.]]</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Creating the Python Client</a><ul>
<li><a class="reference internal" href="#part-1-creating-the-framework">Part 1: Creating the framework</a></li>
<li><a class="reference internal" href="#part-2-initializing-the-client">Part 2: Initializing the Client</a></li>
<li><a class="reference internal" href="#part-3-setting-up-the-request">Part 3: Setting Up the Request</a></li>
<li><a class="reference internal" href="#part-4-sending-the-request-and-processing-the-response">Part 4: Sending the Request and Processing the Response</a></li>
<li><a class="reference internal" href="#full-python-client">Full Python Client</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="pythonBuild.html"
                        title="previous chapter">Compiling and Installing the Library in Python</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pythonClient2.html"
                        title="next chapter">Creating the Python Client</a></p>
<div class="sourcelink">
  <a href="../../_sources/tutorials/rpc-basic/pythonClient.txt" rel="nofollow">
    Show page source
  </a>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="related bottom">
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="pythonBuild.html" title="Previous document">Compiling and Installing the Library in Python</a>
        </li>
        <li>
          <a href="pythonClient2.html" title="Next document">Creating the Python Client</a>
          &rarr;
        </li>
    </ul>
  </nav>
  <nav id="breadcrumbs">
    <ul>
      <li><a href="../../index.html">Quark 0.3.1 documentation</a></li>
      <li>
        <a href="index.html">Getting Started with RPC Walkthrough</a>
      </li> 
    </ul>
  </nav>
  </div>

  <footer id="pagefooter">&copy; 2015, Datawire.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a>
      1.3.3.

  </footer>

  

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57322503-4', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>